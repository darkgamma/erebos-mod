namespace = LECH

character_event = {
	id = LECH.1
    hide_window = yes
	only_playable = yes
	
	trigger = {
		OR = {
		    AND = { 
			    primary_title = { 
				    title = d_the_poles
				}
                NOT = { 
				    has_character_flag = polish_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_vistulans 
				}
                NOT = { 
				    has_character_flag = vistulan_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_mazovians 
				}
                NOT = { 
				    has_character_flag = mazovian_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_prussians
				}
                NOT = { 
				    has_character_flag = prussian_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_silesians 
				}
                NOT = { 
				    has_character_flag = silesians_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_kashubians 
				}
                NOT = { 
				    has_character_flag = kashubian_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_pomeranians
				}
                NOT = { 
				    has_character_flag = pomeranian_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_sorbs 
				}
                NOT = { 
				    has_character_flag = sorbian_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_ranes 
				}
                NOT = { 
				    has_character_flag = rane_ruler
				}
		    }
			AND = { 
			    primary_title = { 
				    title = d_the_obodrites 
				}
                NOT = { 
				    has_character_flag = obodrite_ruler
				}
		    }
			AND = {
			    primary_title = {
				    title = k_lechitic
				}
				has_global_flag = the_lechites
			}
		}
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	immediate = {
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_poles 
				}
			}	
			set_character_flag = polish_ruler
		}
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_vistulans
				}
			}
			set_character_flag = vistulan_ruler
		}
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_mazovians
				}
		    }
		    set_character_flag = mazovian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_prussians
				}
		    }
		    set_character_flag = prussian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_silesians
				}
		    }
		    set_character_flag = silesian_ruler
	    }
		if = { 
		    limit = { 
			    primary_title = { 
				    title = d_the_kashubians
				}
		    }
		    set_character_flag = kashubian_ruler
	    }
		if = { 
		    limit = { 
			    primary_title = { 
				    title = d_the_pomeranians
				}
		    }
		    set_character_flag = pomeranian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_sorbs
				}
		    }
		    set_character_flag = sorbian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = d_the_ranes
				}
			}
		    set_character_flag = rane_ruler
	    }
		if = { 
		    limit = { 
			    primary_title = { 
				    title = d_the_obodrites
				}
			}
		    set_character_flag = obodrite_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = polania
		    }
		    set_character_flag = polish_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = vistulania
		    }
		    set_character_flag = vistulan_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = mazovia
		    }
		    set_character_flag = mazovian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = prussia
		    }
		    set_character_flag = prussian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = silesia
		    }
		    set_character_flag = silesian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = kashubia
		    }
		    set_character_flag = kashubian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = pomerania
		    }
		    set_character_flag = pomeranian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = sorbia
		    }
		    set_character_flag = sorbian_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = rania
		    }
		    set_character_flag = rane_ruler
	    }
		if = { 
		    limit = {
			    primary_title = { 
				    title = k_lechitic
				}
				has_global_flag = obodritia
		    }
		    set_character_flag = obodrite_ruler
	    }
	}
	
	option = {
	    name = OK
	}
}

character_event = {
	id = LECH.2
    hide_window = yes
	only_playable = yes
	
	trigger = {
		OR = {
		    AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_poles 
				    }				
			    }
				has_character_flag = polish_ruler 
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_vistulans 
				    }			
			    }
				has_character_flag = vistulan_ruler	
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_mazovians 
				    }			
			    }
                has_character_flag = mazovian_ruler	
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_prussians
				    }
			    }   
			    has_character_flag = prussian_ruler	
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_silesians 
				    }				
			    }
				has_character_flag = silesian_ruler
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_kashubians 
				    }				
			    }
				has_character_flag = kashubian_ruler
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_pomeranians 
				    }
				}
                has_character_flag = pomeranian_ruler
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_sorbs 
				    }				
			    }
                has_character_flag = sorbian_ruler
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_ranes 
				    }	
			    }
				has_character_flag = rane_ruler	
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
			AND = { 
		        NOT = { 
			        primary_title = { 
				        title = d_the_obodrites 
				    }		
			    }
				has_character_flag = obodrite_ruler	
				NOT = {
      				has_landed_title = k_lechitic 
				}
		    }
		}
	}
	
	mean_time_to_happen = {
		days = 0
	}
	
	immediate = {
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_poles 
					}
			    }
			}	
			clr_character_flag = polish_ruler
		}
		if = { 
		    limit = {
                NOT = { 
				     primary_title = { 
					    title = d_the_vistulans
					}
			    }
			}
			clr_character_flag = vistulan_ruler
		}
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_mazovians
					}
			    }
			}
		    clr_character_flag = mazovian_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_prussians
					}
			    }
			}
		    clr_character_flag = prussian_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_silesians
					}
			    }
			}
		    clr_character_flag = silesian_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_kashubians
					}
			    }
			}
		    clr_character_flag = kashubian_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_pomeranians
					}
			    }
			}
		    clr_character_flag = pomeranian_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_sorbs
					}
			    }
			}
		    clr_character_flag = sorbian_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_ranes
					}
			    }
			}
		    clr_character_flag = rane_ruler
	    }
		if = { 
		    limit = {
                NOT = { 
				    primary_title = { 
					    title = d_the_obodrites
					}
			    }
			}
		    clr_character_flag = obodrite_ruler
	    }
	}
	
	option = {
	    name = OK
	}
}

character_event = {
	id = LECH.3
	only_playable = yes
	
	trigger = {
		OR = {
	        has_character_flag = polish_ruler
	        has_character_flag = vistulan_ruler
        	has_character_flag = mazovian_ruler
   	   		has_character_flag = prussian_ruler
	    	has_character_flag = silesian_ruler
    		has_character_flag = kashubian_ruler    			
			has_character_flag = pomeranian_ruler
		   	has_character_flag = sorbian_ruler
	    	has_character_flag = rane_ruler
    		has_character_flag = obodrite_ruler
		}
		independent = yes
		has_global_flag = the_lechites
		culture = lechitic
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	option = {
	    name = OK
		if = { 
		    limit = {
			    has_character_flag = polish_ruler
			}
			culture = polish
			random_demesne_province = {
			    culture = polish
			}
		}
		if = { 
		    limit = {
			    has_character_flag = vistulan_ruler
			}
			culture = vistulan
			random_demesne_province = {
			    culture = vistulan
			}
		}
		if = { 
		    limit = {
			    has_character_flag = mazovian_ruler
			}
			culture = mazovian
			random_demesne_province = {
			    culture = mazovian
			}
		}
		if = { 
		    limit = {
			    has_character_flag = prussian_ruler
			}
			culture = prussian
			random_demesne_province = {
			    culture = prussian
			}
		}
		if = { 
		    limit = {
			    has_character_flag = silesian_ruler
			}
			culture = silesian
			random_demesne_province = {
			    culture = silesian
			}
		}
		if = { 
		    limit = {
			    has_character_flag = kashubian_ruler
			}
			culture = kashubian
			random_demesne_province = {
			    culture = kashubian
			}
		}
		if = { 
		    limit = {
			    has_character_flag = pomeranian_ruler
			}
			culture = pomeranian
			random_demesne_province = {
			    culture = pomeranian
			}
		}
		if = { 
		    limit = {
			    has_character_flag = sorbian_ruler
			}
			culture = sorbian
			random_demesne_province = {
			    culture = sorbian
			}
		}
		if = { 
		    limit = {
			    has_character_flag = rane_ruler
			}
			culture = rane
			random_demesne_province = {
			    culture = rane
			}
		}
		if = { 
		    limit = {
			    has_character_flag = obodrite_ruler
			}
			culture = obodrite
			random_demesne_province = {
			    culture = obodrite
			}
		}
	}
}